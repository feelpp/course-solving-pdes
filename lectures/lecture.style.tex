\usepackage{hyperref}
%\usepackage{fontspec}
\usepackage{fontawesome}
\usepackage{setspace}
\usepackage{graphicx}

%\usepackage{media9}
%\usepackage{movie15}
\usepackage{amsmath,amssymb,calc}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{multirow,booktabs,subcaption}
\usepackage{stmaryrd}
\captionsetup{compatibility=false}
% do not load if xelatex is used
%\usepackage[utf8x]{inputenc}
\usepackage[english]{babel}

\usepackage{multibib}
\newcites{pub}{Publications}
\newcites{other}{Other references}

\usepackage{minted}
\usepackage{amsmath,amssymb,bm}
% \usemintedstyle{trac}
\usemintedstyle{colorful}

\newminted{cpp}{%fontsize=\scriptsize,
  linenos,
  numbersep=8pt,
  gobble=4,
  frame=lines,
  bgcolor=lbcolor,
  framesep=3mm}

\newminted{bash}{%fontsize=\scriptsize,
  linenos,
  numbersep=8pt,
  gobble=4,
  frame=lines,
  bgcolor=lbcolor,
  framesep=3mm}

% \usepackage{listings}
% \lstset{basicstyle=\ttfamily,
%   showstringspaces=false,
%   commentstyle=\color{red},
%   keywordstyle=\color{blue}
% }

%% listings package
\usepackage{filecontents,listings,lstautogobble}
\lstset{language=c++,showspaces=false,showstringspaces=false,captionpos=t,literate={>>}{\ensuremath{>>}}1,mathescape,autogobble=true}
\lstset{basicstyle=\small\bf\ttfamily}
\lstset{lineskip=-2pt}
\definecolor{lbcolor}{rgb}{0.95,0.95,0.95}
\definecolor{cblue}{rgb}{0.,0.0,0.6}
\definecolor{cgreen}{rgb}{0.,0.6,0.0}
\definecolor{violet}{rgb}{0.5,0,0.5}
\definecolor{vertfonce}{rgb}{0.,0.5,0.}
\definecolor{rouge}{rgb}{0.5,0.,0.}
\definecolor{blue}{rgb}{0.,0.,1}
\definecolor{orange}{rgb}{1,0.5,0}
\lstset{keywordstyle=\color{red}\bfseries}
\lstset{
  emph={form,form1,form2,integrate,on,grad,gradt,dot,id,dx,dy,dz,idt,dxt,dyt,dzt,idv,dxv,dy,dzv,gradv,div,divt,divv,dn,jump,trans,vec,cst,
    project,P,Px,Py,Pz,one,oneX,oneY,oneZ,hFace,N,Nx,Ny,Nz,sin,cos,min,max,abs,pow,chi,exp,LinearForm,BilinearForm,MixedLinearForm,MixedBilinearForm,
    FESpace,MixedFESpace,integrate,project,addCL},emphstyle=\color{blue},
  emph={[2]\_space,\_range,\_expr,\_quad,\_quad1,\_test,\_trial,\_matrix,\_vector,\_solution,\_element,\_rhs,\_rowstart,\_colstart,\_block,
    \_pattern,\_pattern\_block,\_domainSpace,\_imageSpace,\_mesh,\_name,\_partitions,\_worldcomm,\_worldscomm,
    \_type,\_marker1,\_marker2,\_marker3,\_marker4,\_marker5,\_marker6,\_marker7,\_marker8,\_markerAll,\_argc,\_argv,\_desc},emphstyle={[2]\color{violet}\bfseries},
  emph={[3]elements,markerName,boundaryfaces,markedfaces,\_Q,solve, newMatrix,newVector,newZeroMatrix,newZeroVector,
    newBlockMatrix,newBlockVector,localize,element,apply,createMesh,localSize,subWorldComm,transpose,setMarker,add,save,
    dirichlet\_vec,neumann\_scal,updateTime,exportResults,updateBdf,init,FluidMechanics}, emphstyle={[3]\color{rouge}\bfseries},
  emph={[4]Backend,BlocksVector,BlocksSparseMatrix,BlocksStencilPattern,Blocks,opInterpolation,FunctionSpace,Lagrange,RaviartThomas,Nedelec,bases,Pch,unitSquare,WorldComm,
    Mesh,Simplex,Node,Rectangle,Quadrangle,Circle,AppliManagement,Environment,feel\_options,exporter},emphstyle={[4]\color{orange}\bfseries},
  emph={[5]size\_type,uint16\_type},emphstyle={[5]\color{red}\bfseries},
  emph={[6]GeoTool,vf,cl},emphstyle={[6]\color{cyan}\bfseries}
}

\lstset{numberstyle=\tiny}
\lstset{backgroundcolor=\color{white},rulecolor=}
\definecolor{lightgrey}{RGB}{160,160,160}
\lstset{commentstyle=\ttfamily\color{lightgrey}}
\lstset{escapeinside={\%*}{*)}}


\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstset{
    %basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=0,
    numbersep=-8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{background},
}

\lstdefinelanguage{json}{
    literate=
     *{0}{{{\color{numb}0}}}{1}
      {1}{{{\color{numb}1}}}{1}
      {2}{{{\color{numb}2}}}{1}
      {3}{{{\color{numb}3}}}{1}
      {4}{{{\color{numb}4}}}{1}
      {5}{{{\color{numb}5}}}{1}
      {6}{{{\color{numb}6}}}{1}
      {7}{{{\color{numb}7}}}{1}
      {8}{{{\color{numb}8}}}{1}
      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}

\useoutertheme{infolines}

% ******** Colors ******************
\definecolor{LightGray}{RGB}{150,150,150}
\definecolor{RedAlert}{RGB}{165,9,9}
\definecolor{MidnightBlue}{RGB}{25,25,112}
\definecolor{DarkBlue}{RGB}{72,61,139}
\definecolor{Purple}{RGB}{128,0,128}
\colorlet{DarkPurple}{Purple!80!black}

\definecolor{s1}{RGB}{228,26,28}
\definecolor{s2}{RGB}{55,126,184}
\definecolor{s3}{RGB}{77,175,74}
\definecolor{s4}{RGB}{152,78,163}
\definecolor{s5}{RGB}{255,127,0}
\definecolor{s6}{RGB}{166,86,40}
\definecolor{s7}{RGB}{247,129,191}
\definecolor{s8}{RGB}{153,153,153}
\definecolor{s9}{RGB}{255,255,51}

\definecolor{ljk}{rgb}{0.50, 0.625, 0.70}

\usetheme{metropolis}

% %------------------------------------------------------------------------------
% % tikz
% %------------------------------------------------------------------------------
\usepackage{tikz}
% tikz library
\usetikzlibrary{backgrounds,shapes,calc,snakes,arrows,fit,shadows,arrows,positioning,decorations.text,mindmap}
%\usetikzlibrary{calc,arrows,arrows.meta,patterns,plotmarks,shapes,snakes,er,3d,automata,backgrounds,topaths,trees,petri,mindmap,backgrounds,fit}
\usepgflibrary{decorations.markings}
\usepgfplotslibrary{fillbetween}
\tikzset{concept/.append style={fill={none}}}

\input{lecture.tikz}

\usepackage[plain]{algorithm}
\usepackage{algpseudocode}
\usepackage{cancel}
\usepackage[labelformat=empty,font=footnotesize,skip=1pt]{caption}

\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\usepackage{xspace}
\newcommand{\Rplus}{\protect\hspace{-.1em}\protect\raisebox{.25ex}{\smaller{\smaller\textbf{+}}}}

\newcommand{\feel}{\mbox{Feel++}\xspace}
\newcommand{\feelpp}{\feel}


\makeatletter
\renewcommand{\ALG@beginalgorithmic}{\small}
\makeatother
\algrenewcommand\algorithmicindent{0.5em}
\algnewcommand\And{\textbf{ and }}
\algnewcommand\Or{\textbf{ or }}
\algnewcommand\To{\textbf{ to }}

\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\opspan}{span}
\DeclareMathOperator*{\opdim}{dim}
\usepackage{accents}

\newcommand\munderbar[1]{%
  \underaccent{\bar}{#1}}
\usepackage{booktabs}

\everymath{\displaystyle}

\usepackage[final]{pdfpages}
%\includeonlylecture{l1}
%\includeonlylecture{l2}
%\includeonlylecture{l3}
%\includeonlylecture{l4}
%\includeonlylecture{l5}

\AtBeginSection[]
{
  \begin{frame}
    \tableofcontents[currentsection]
  \end{frame}
}

%\AtBeginLecture{\frame{\Large Lecture: \insertlecture}}

\AtBeginPart{\frame{\partpage}}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "lecture-beamer"
%%% End:
